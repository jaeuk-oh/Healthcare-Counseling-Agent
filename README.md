# 국가의료비지원정책 상담 AI (RAG 기반)

## 📌 프로젝트 한 줄 요약
소득·연령·가족 등 필요한 정보를 입력하면 **RAG 기반 LLM이 신청 가능한 의료·복지 정책을 판단하고, 판단 근거가 되는 정책 문서를 함께 제시하는 상담 AI 시스템**입니다.

---

## ❓ 문제 정의
보건소 의료비 지원 상담 현장에서는 다음과 같은 문제가 반복됩니다.

- 정책 종류가 많고 기준이 복잡함
- 상담사 개인 숙련도에 따라 판단 결과 편차 발생
- 민원 응대에 많은 시간 소요
- “왜 가능한지”에 대한 근거 설명 요구 증가

👉 **정책 판단을 보조하고, 근거를 명확히 제시하는 AI 시스템 필요**

---

## 💡 해결 접근 방식

이 프로젝트는 **LLM의 추론 능력**과 **정책 문서 기반 검색(RAG)**을 결합해 문제를 해결합니다.

- ❌ LLM 단독 판단 → 환각(Hallucination) 위험
- ✅ 정책 문서 기반 RAG → 판단 근거 고정 및 신뢰성 확보

### 처리 흐름
1. 정책 문서 정제 및 청킹
2. 문서 임베딩 후 벡터 DB 저장
3. 사용자 조건 기반 관련 정책 문서 검색
4. LLM이 검색 문서를 근거로 신청 가능 여부 판단
5. 판단 결과 + 근거 문서 조항 반환

---

## 🧠 기술 선택 이유

| 기술 | 선택 이유 |
|----|----|
| **LangChain (RAG)** | 문서 기반 판단 파이프라인 구성 |
| **OpenAI GPT-3.5** | 응답 속도 및 비용 효율 |
| **Chroma** | 소규모 정책 문서에 적합한 벡터 DB |
| **FastAPI** | LLM 판단 로직을 API로 분리 |
| **Streamlit** | 상담 시나리오 중심의 빠른 UI 구성 |

---

## ✨ 주요 기능

- 정책 신청 가능 여부 판단
- 다수 정책 동시 조회
- **판단 근거가 되는 정책 문서 조항 제공**
- Streamlit 기반 상담 UI 제공
- 평균 응답 시간 약 1초 이내

---

## 🧪 결과 예시

```json
{
  "policy_name": "생계급여",
  "eligible": true,
  "reason": "월소득 기준 및 가족 구성 조건 충족",
  "documents": [
    {
      "doc_name": "2024년 생계급여 기준",
      "excerpt": "4인 가구 기준 중위소득 32% 이하..."
    }
  ]
}
```

---

## 🏗️ 시스템 구조 (요약)

```
[Streamlit UI]
      ↓
[FastAPI 서버]
      ↓
[RAG Engine]
   ├─ Chroma (정책 문서 벡터 DB)
   └─ LLM (문서 기반 판단)
```

---

## 👨‍💻 담당 역할

- 의료·복지 정책 문서 수집 및 정제
- 문서 청킹 및 임베딩 전략 설계
- RAG 파이프라인 설계
- 프롬프트 구조 설계  
  (입력 조건 → 판단 → 근거 명시)
- FastAPI 기반 API 설계
- Streamlit 상담 UI 구성
- 전체 시스템 아키텍처 설계

---

## 🔍 배운 점

- LLM 서비스 품질은 **모델 성능보다 입력 구조와 제약 조건**에 크게 좌우됨
- RAG에서는 검색 대상 문서의 범위와 형태가 결과 신뢰도를 결정함
- 실무에서는 파인튜닝보다 **구조 설계가 비용 대비 효과적인 경우가 많음**
- UI와 판단 로직 분리는 유지보수성과 확장성을 크게 높임

---

## 🔧 실행 방법 (간단)

```bash
pip install -r requirements.txt
export OPENAI_API_KEY=YOUR_API_KEY

# FastAPI 실행
python src/api.py

# Streamlit 실행
streamlit run src/app.py
```

---

## 🚀 확장 아이디어

- 정책 변경 자동 감지 및 벡터 DB 갱신
- 상담 이력 저장 및 통계 분석
- LoRA 기반 정책 도메인 튜닝
- 관리자용 정책 관리 UI 추가

---